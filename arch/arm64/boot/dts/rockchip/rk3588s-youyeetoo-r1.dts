// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright (c) 2021 Rockchip Electronics Co., Ltd.
 *
 */

/dts-v1/;

#include "rk3588s-yyt-common.dtsi"

/ {
    model = "Youyeetoo R1";
    compatible = "youyeetoo,r1", "rockchip,rk3588";

    /* AUDIO */

	es8388_sound: es8388-sound {
		status = "okay";
		compatible = "rockchip,multicodecs-card";
		rockchip,card-name = "rockchip-es8388";
        hp-det-gpio = <&gpio1 RK_PC0 GPIO_ACTIVE_LOW>;
		io-channels = <&saradc 3>;
		io-channel-names = "adc-detect";
		keyup-threshold-microvolt = <1800000>;
		poll-interval = <100>;
		rockchip,format = "i2s";
		rockchip,mclk-fs = <256>;
		rockchip,cpu = <&i2s0_8ch>;
		rockchip,codec = <&es8388>;
        rockchip,audio-routing =
            "Headphone", "LOUT1",
            "Headphone", "ROUT1",
            "Speaker", "LOUT1",
            "Speaker", "ROUT1",
            "Headphone", "Headphone Power",
            "Headphone", "Headphone Power",
            "Speaker", "Speaker Power",
            "Speaker", "Speaker Power",
            "LINPUT1", "Main Mic",
            "LINPUT2", "Main Mic",
            "RINPUT1", "Main Mic",
            "RINPUT2", "Main Mic";
		pinctrl-names = "default";
		pinctrl-0 = <&hp_det>;
		play-pause-key {
			label = "playpause";
			linux,code = <KEY_PLAYPAUSE>;
			press-threshold-microvolt = <2000>;
		};
	};

    fan_ctrl {
        compatible = "lylx,xgpio";
        gpio = <&gpio0 23 GPIO_ACTIVE_HIGH>;
        def_val = <0>;
        status = "okay";
    };     

    usb30_power_ver1 {
        compatible = "lylx,xgpio";
        gpio = <&gpio4 RK_PA6 GPIO_ACTIVE_HIGH>;
        def_val = <1>;
        status = "okay";
    };

    usb30_power {
        compatible = "lylx,xgpio";
        gpio = <&gpio0 RK_PB0 GPIO_ACTIVE_HIGH>;
        def_val = <1>;
        status = "okay";
    };
};

/* AUDIO */
&i2s0_8ch {
	status = "okay";
	pinctrl-0 = <&i2s0_lrck
		     &i2s0_sclk
		     &i2s0_sdi0
		     &i2s0_sdo0>;
};

&pwm7{
     pinctrl-0 = <&pwm7m0_pins>;
     status = "okay";
};

&pwm11 {
    pinctrl-0 = <&pwm11m1_pins>;
    pinctrl-names = "active";
    status = "okay";
};

&pwm12 {
     status = "okay";
     pinctrl-names = "active";
     pinctrl-0 = <&pwm12m1_pins>;
};